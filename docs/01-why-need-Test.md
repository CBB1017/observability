# 왜 테스트가 필요한가? 신뢰성, 품질, 생산성을 위한 필수 전략

## 소개

"우리 회사는 과거에 왜 이렇게 많은 배포 실수를 했을까?"  
이 문서는 **TDD(Test-Driven Development)**의 도입이 왜 필수적인지 설명합니다.  
라이브러리 변경, 테스트 메서드 누락, 그리고 제한적인 QC/QA의 커버리지가 가져온 반복적인 문제들을 해결하고,  
**소프트웨어 신뢰성**과 **생산성**을 동시에 잡는 방법을 탐구합니다.

---

## 목차

1. [문제 정의: 우리의 현재 상황](#문제-정의-우리의-현재-상황)
2. [QC/QA의 한계](#qcqa의-한계)
3. [TDD로 해결할 수 있는 문제](#tdd로-해결할-수-있는-문제)
4. [TDD의 장점: 신뢰성과 생산성의 균형](#tdd의-장점-신뢰성과-생산성의-균형)
5. [TDD 적용의 첫걸음](#tdd-적용의-첫걸음)
6. [FAQ](#faq)
7. [참고 자료](#참고-자료)
8. [마무리](#마무리---라오스-개발자-분들께)


---

## 문제 정의: 우리의 현재 상황

우리 회사에서 겪었던 **배포 문제들**:
- **라이브러리 변경** 시 예상치 못한 기능 오류 발생
- **테스트 메서드 누락**으로 배포 후 버그 발생
- 제한적인 QC/QA 커버리지로 인해 **모든 시나리오를 확인하지 못한 상태**에서 배포 진행
- 결과적으로 개발자와 QA 팀의 **업무 과부하** 및 신뢰도 하락

---

## QC/QA의 한계

배포 전 모든 기능을 수동 또는 자동화된 테스트로 확인하기 위해선:
- **시간과 리소스**가 매우 많이 필요
- 빠른 배포 주기를 유지하면서 **완벽한 커버리지**를 확보하기 어려움
- 문제는 발견 후 수정보다, **발생 자체를 예방하는 방법**이 더 효과적이라는 점


---

## TDD로 해결할 수 있는 문제

**TDD의 핵심**:
1. **문제를 발견하기 전에 테스트 작성**
    - 라이브러리 변경 및 기능 추가 시 **예상치 못한 영향 최소화**
2. **자동화된 테스트로 빠른 피드백**
    - 개발자가 **즉각적으로 잘못된 부분**을 확인 가능
3. **테스트 커버리지 확보**
    - 배포 전 모든 주요 로직과 엣지 케이스를 확인

---

## TDD의 장점: 신뢰성과 생산성의 균형

1. **신뢰성**
    - 코드를 배포하기 전에 **테스트로 품질을 보증**할 수 있음
    - 예기치 않은 문제를 방지하여 팀 전체의 신뢰도를 높임

2. **생산성**
    - 초기에는 개발 속도가 느려 보일 수 있지만, **버그를 줄이고 재작업을 방지**하여 장기적으로 효율성 증가
    - QA와 개발자의 **반복적인 작업을 자동화**하여 리소스 절약

---

## TDD 적용의 첫걸음

1. 작은 기능부터 **테스트를 먼저 작성**하는 습관 들이기
2. 기존 코드에 대한 **테스트 커버리지 확보** (테스트 작성부터 시작)
3. **TDD 툴 체인 구성**:
    - 테스트 프레임워크: JUnit(Java), PyTest(Python), Jest(javascript) 등
    - 코드 커버리지 툴: JaCoCo, Istanbul 등(Jest는 Istanbul 내장)
    - CI/CD 자동화: jenkins (with ITSM)

---

## FAQ

### Q1. "TDD가 생산성을 정말 높이나요?"
A. 초기 학습 비용이 있을 수 있으나, **버그로 인한 재작업**을 방지함으로써 결과적으로 팀의 생산성을 극대화합니다.
어떤 기능의 변경에 있어 Postman 또는 http Method를 생성하여 호출하는 것보다 미리 생성된 테스트 코드로 검증하는 것이 훨씬 빠를 것입니다.
이미 수많은 기업에서 적용하고 있고 검증된 방법입니다.
### Q2. "테스트 작성이 너무 오래 걸리지 않을까요?"
A. 시간이 걸리는 건 초기 단계뿐입니다. 시간이 지나면서 테스트 기반 개발 습관이 자리 잡히면, 더 빠르게 안전한 코드를 작성할 수 있습니다.

### Q3. "테스트 프레임워크와 코드 커버리지 툴의 차이는 무엇입니까?"
A. 테스트 프레임워크는 실제 프로젝트의 테스트 코드를 작성하고 실행할 수 있게 도와주고, 코드 커버리지 툴은 프로젝트에서 테스트 코드가 얼마나 많은 범위를 커버하는지 확인할 수 있습니다.

---

## 우리가 선택한 테스트 프레임워크: Jest
- **왜 Jest인가?**
    1. Node.js와 완벽하게 통합 가능
    2. 사용하기 쉬운 문법과 강력한 기능 제공
    3. 빠른 테스트 실행 속도와 커버리지 보고 지원
    4. Mocking, Snapshot Testing 등 다양한 기능 제공
    5. 커뮤니티와 문서화가 잘 되어 있어 학습곡선이 낮음

---

## 참고 자료

- [TDD의 원칙과 사례 (Martin Fowler)](https://martinfowler.com/bliki/TestDrivenDevelopment.html)
- [Effective TDD Practices (Google Engineering)](https://testing.googleblog.com)

---

# 마무리 - 라오스 개발자 분들께
기본적으로 적용했으면 좋겠습니다.
## ORM
**ORM (Object-Relational Mapping)**
- 데이터베이스 작업을 쉽게 처리할 수 있는 도구
- 간단한 CRUD는 쿼리를 작성할 필요 없고 엔티티 필드 데이터를 변경하면 DB에도 적용
- TypeORM 또는 Prisma와 같은 ORM을 활용하여 Jest로 데이터베이스 관련 테스트 작성 가능
- DB 설계의 제약을 애플리케이션 레벨에서 수행 가능
- 데이터 구조나 관계를 파악하기 위해 DB를 들여다 볼 일이 줄어듦

## Typescript
**javascript with type safe**
- 코드 안정성 증가: 예상치 못한 타입 관련 버그를 줄임.
- 개발 속도 향상: 코드 작성 시 에러를 컴파일 단계에서 미리 알 수 있어 디버깅 시간이 줄어듦.
- 코드 이해도 증가: 팀원 간 협업 시 코드의 동작을 명확히 알 수 있음.
- 변경 영향 최소화: 타입 정의 덕분에 코드 변경이 다른 부분에 미치는 영향을 빠르게 파악 가능.
- 코드 리팩토링 지원: 타입 시스템이 리팩토링을 더 안전하게 만듦.

---
